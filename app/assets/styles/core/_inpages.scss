.inpage {

  &__header {
    padding: ($global-spacing * 4) 0;
  }

  &__subtitle {
    margin-bottom: 0;
    font-weight: $base-font-light;
  }

  &__description {
    @include col(12/12);
    text-align: center;
    @include media(medium-up) {
      @include center(600px);
      text-align: center;
    }
  }

  &__description--header {
    @include media(medium-up) {
      @include col(7/12);
    }
    @include col(12/12);
  }

  &__project-actions {
    margin-top: $global-spacing * 2;
    @include col(12/12);
    .map-actions{
      @include col(8/12);
    }
    .map-toggle-container {
      @include col(4/12);
      .map-toggle {
        float: right;
      }
    }
    .map-filter-tags {
      width: auto;
    }
  }

  &__headline {
    @extend .clearfix;
  }

  &__headline-actions {
    float: none;
    margin-bottom: $global-spacing;
    @include media(medium-up){
      float: right;
    }

    ul {
      margin: 0;
      padding: 0;
      list-style: none;
      overflow: hidden;
      li {
        float: left;
        margin-right: 0.5rem;
        margin-bottom: 0.5rem;
         &:last-child {
          margin-right: 0rem;
          };
        @include media(medium-up) {
          margin-bottom: 0;
        }
      }
    }
  }

  &__section {
    background-color: #fff;
    @include col(12/12);
    margin-bottom: $global-spacing * 2;
    padding: $global-spacing * 2;
    box-shadow: inset 0 0 0 1px $tertiary-color;
    &:first-child {
      margin-top: $global-spacing * 4;
    };
    &:last-child {
      margin-bottom: $global-spacing * 4;
    };
    &--title {
      text-align: center;
    }
    &--title-aligned {
      text-align: left;
      float: left;
    }
    &-navigation {
      .filters {
        float: right;
      }
    }
    &--footer {
      text-align: center;
      width: 100%;
      li {
        display: inline-block;
        &:first-child {
          margin-right: $global-spacing;
        };
      }
    }

  }

  &__section--related {
    @include col(12/12);
    background-color: #fff;
    padding: $global-spacing * 2 0;
    .related-projects-card {
      list-style: none;
      padding: ($global-spacing * 2) ($global-spacing * 2) ($global-spacing * 2) 0;
      display: inline-block;
      @include col(4/12); 
      min-width: 14rem; 
      @include media(xsmall-only) {
        @include col(12/12);
      }
      @include media(medium-up) {
        max-width: 20rem;
      }
      
    }
  }

  &__section--related--title {
    text-align: center;
  }

  &__table {
    table-layout: fixed;
    margin: ($global-spacing * 2) 0;
    position: relative;
    @include media(small-down) {
      display: block; 
    }

    tbody {
      @include media(small-down) {
        display: block;
      }
    }

    thead {
      box-shadow: inset 0 -1px 0 0 $tertiary-color;
      @include media(small-down) {
      display: block; 
      }
      tr {
        @include media(small-down) {
          display: block; 
          position: absolute;
          top: -9999px;
          left: -9999px;
        }
      }
    }

    th {
      color: $base-color;
      font-weight: $base-font-light;
      text-align: left;
      text-transform: uppercase;
      font-size: 0.875rem;
      padding-bottom: $global-spacing;
      @include media(small-down) {
        display: block; 
      }
    }

    td {
      font-size: 0.75rem;
      position: relative;
      font-weight: $base-font-regular;
      padding: ($global-spacing * 2) ($global-spacing * 2) $global-spacing 0;

      @include media(small-down) {
        display: block; 
        border: none;
        &:last-child {
          box-shadow: inset 0 -1px 0 0 $tertiary-color;
          margin-bottom: $global-spacing;
        };
      }

      .activity-name {
        color: $base-color;
        font-weight: $base-font-bold;
        margin-bottom: 0;
        position: absolute;
        top: $global-spacing;
        @include media(small-down) {
          position: relative;
          top: 0;
        }
      }
    }

    td:before { 
    @include media(small-down) {
      position: absolute;
      top: 6px;
      left: 6px;
      width: 45%; 
      padding-right: 10px; 
      white-space: nowrap;
    }
  }

    td:nth-of-type(n):before {
      @extend th;
      left: 0;
      position: absolute;
    }

    td:nth-of-type(1):before { 
      @include media(small-down){
      content: "Name and Description"; 
      }
    }
    td:nth-of-type(2):before { 
      @include media(small-down){
      content: "KPI"; 
      }
    }
    td:nth-of-type(3):before { 
      @include media(small-down){
      content: "Target"; 
      }
    }
    td:nth-of-type(4):before { 
      @include media(small-down){
      content: "Date"; 
      }
    }

    .row-name {
      width: 35%;
    }
  }
}

.inpage-meta {
  overflow: hidden;
  font-size: 0.75rem;
  font-weight: $base-font-regular;
  color: $base-color;
  text-transform: capitalize;

  &__label--status {
    @extend .visually-hidden;
    box-shadow: 1px 0 0 $base-color;
  }

  &__label {
    text-transform: capitalize;
    font-size: 0.75rem;
    font-weight: $base-font-regular;
    float: left;
    line-height: 1rem;
    margin-right: $global-spacing/2;
  }

  &__value {
    margin-bottom: 0;
    float: left;
    line-height: 1rem;

    &--status {
      margin-right: 1rem;
      position: relative;
      padding-left: 0.75rem;
      box-shadow: 1px 0 0 $base-color;
      padding-right: $global-spacing;
      &:before {
        content: '';
        position: absolute;
        top: 0.25rem;
        left: 0;
        background: rgba($base-font-color, 0.5);
        width: 0.5rem;
        height: 0.5rem;
        border-radius: $full-border-radius;

        .project--ontime & {
          background: $success-color;
        }
        .project--delayed & {
          background: $warning-color;
        }
      }
    }
  }
}

.inpage__body {
  background-color: $background-color;
}

.inpage__section--overview {

  .inpage__col--map {
      @include col(12/12);
    @include media(medium-up) {
      @include col(5/12);
    }
  }

  .inpage__col--content {
    @include col(12/12);
    @include media(medium-up) {
      @include col(7/12);
    }
  }
}


.inpage-stats {
  color: $base-color;
  list-style: none;
  font-size: 1.75rem;
  font-weight: $base-font-light;
  line-height: 1.5rem;
  overflow: hidden;
  @include media(medium-up) {
    font-size: 2.75rem;
    line-height: 2.25rem;
  }

  li {
    float: left;
    box-shadow: 1px 0 0 $tertiary-color;
    padding-right: $global-spacing * 2;
    margin-right: $global-spacing * 2;
    @include media(medium-up) {
      padding-right: $global-spacing * 4;
      margin-right: $global-spacing * 4;
    }
    &:last-child {
      box-shadow: none;
      margin: 0;
      padding: 0;
    }
  }

  small {
    display: block;
    font-weight: $base-font-bold;
    font-size: 1rem;
    color: rgba($base-color, 0.66);
  }
}

.inpage__overview-links {
  border-top: solid 1px $tertiary-color;
  li {
    font-size: 0.875rem;
    float: left;
    list-style: none;
    padding-top: 1rem;
    @include col(12/12);
    @include media(medium-up) {
      @include col(5/12);
    }
    
    a {
      float: left;
      clear: left;
      padding-top: $global-spacing/2
    }
    &:first-child {
      @include col(12/12);
    }
    .light {
      display: block;
      color: $base-color;
      font-weight: $base-font-light;
      text-transform: uppercase;
      margin-top: $global-spacing;
    }
  }
}

.button--list {
  li {
    display: inline-block;
    &:first-child {
      margin-bottom: $global-spacing/2;
       @include media(medium-up) {
        margin-right: $global-spacing;
      }   
    };
  }
}